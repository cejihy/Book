<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>æ™ºèƒ½é˜…è¯»</title>
    
    <!-- PWA Meta Tags -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect width='192' height='192' rx='24' fill='%23007AFF'/><rect x='48' y='48' width='96' height='96' rx='8' fill='white'/><rect x='60' y='60' width='72' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='72' width='63' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='84' width='72' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='96' width='54' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='108' width='63' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='120' width='45' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='132' width='72' height='4' rx='2' fill='%23007AFF'/></svg>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="æ™ºèƒ½é˜…è¯»">
    <meta name="theme-color" content="#007AFF">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23007AFF'/><rect x='25' y='20' width='50' height='60' rx='3' fill='white'/><rect x='30' y='30' width='40' height='2' fill='%23007AFF'/><rect x='30' y='38' width='35' height='2' fill='%23007AFF'/><rect x='30' y='46' width='40' height='2' fill='%23007AFF'/><rect x='30' y='54' width='30' height='2' fill='%23007AFF'/><rect x='30' y='62' width='35' height='2' fill='%23007AFF'/></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f8f9fa;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
            /* æ ‡å‡†PWAå¸ƒå±€ - å‚è€ƒå¾®ä¿¡è®¾è®¡ */
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        /* é¡¶éƒ¨çŠ¶æ€æ  - å¾®ä¿¡é£æ ¼ */
        .status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: env(safe-area-inset-top);
            background: #007AFF;
            z-index: 10000;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  - å¾®ä¿¡é£æ ¼ */
        .header {
            position: fixed;
            top: env(safe-area-inset-top);
            left: 0;
            right: 0;
            background: #007AFF;
            color: #ffffff;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 44px;
            z-index: 1000;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .header.hidden {
            transform: translateY(-100%);
        }
        
        /* åº•éƒ¨æ ‡ç­¾æ  - å¾®ä¿¡é£æ ¼ */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            color: #666666;
            padding: 8px 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -1px 3px rgba(0,0,0,0.1);
            min-height: 49px;
            z-index: 1000;
            /* è¦†ç›–Home Indicator - å¾®ä¿¡é£æ ¼ */
            padding-bottom: calc(8px + env(safe-area-inset-bottom));
            min-height: calc(49px + env(safe-area-inset-bottom));
        }
        
        .footer.hidden {
            transform: translateY(100%);
        }

        /* æŒ‰é’®æ ·å¼ - å¾®ä¿¡é£æ ¼ */
        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .btn:active {
            transform: scale(0.95);
        }

        /* åº•éƒ¨å¯¼èˆªæŒ‰é’® - å¾®ä¿¡é£æ ¼ */
        .footer-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4px 8px;
            color: #8e8e93;
            text-decoration: none;
            font-size: 10px;
            transition: color 0.2s ease;
            cursor: pointer;
        }

        .footer-btn.active {
            color: #007AFF;
        }

        .footer-btn-icon {
            font-size: 20px;
            margin-bottom: 2px;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ - å¾®ä¿¡é£æ ¼ */
        .main-content {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            /* å¾®ä¿¡é£æ ¼å¸ƒå±€ - Footerè¦†ç›–Home Indicator */
            padding-top: calc(44px + env(safe-area-inset-top));
            padding-bottom: calc(49px + env(safe-area-inset-bottom));
        }

        /* æ¬¢è¿é¡µé¢ - å¾®ä¿¡é£æ ¼ */
        .welcome {
            text-align: center;
            padding: 32px 20px;
            color: #333333;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #ffffff;
        }

        .welcome h2 {
            margin-bottom: 16px;
            color: #333333;
            font-size: 28px;
            font-weight: 600;
        }

        .welcome p {
            margin-bottom: 24px;
            line-height: 1.6;
            font-size: 16px;
            color: #666666;
        }

        /* é˜…è¯»å™¨å®¹å™¨ */
        .reader-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: none;
            background: #ffffff;
        }
        
        .reader-container[style*="display: block"] {
            display: block !important;
        }

        /* å†…å®¹æŸ¥çœ‹å™¨ - å¾®ä¿¡é£æ ¼ */
        .viewer {
            position: relative;
            width: 100%;
            height: 100%;
            background: #ffffff;
            overflow: auto;
            padding: 20px;
        }

        #viewer {
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }

        /* è§¦æ‘¸å±‚ */
        .touch-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            pointer-events: none;
        }
        
        .touch-area {
            position: absolute;
            height: 100%;
            pointer-events: auto;
            touch-action: auto;
        }

        .touch-area.left {
            width: 30%;
            left: 0;
        }

        .touch-area.center {
            width: 40%;
            left: 30%;
        }

        .touch-area.right {
            width: 30%;
            right: 0;
        }

        /* ç¿»é¡µæŒ‡ç¤ºå™¨ - å¾®ä¿¡é£æ ¼ */
        .page-indicator {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 20;
        }
        
        .page-indicator.left {
            left: 20px;
        }
        
        .page-indicator.right {
            right: 20px;
        }
        
        .page-indicator.show {
            opacity: 1;
        }

        /* é®ç½©å±‚ */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        /* ä¾§è¾¹é¢æ¿ - å¾®ä¿¡é£æ ¼ */
        .toc-panel, .bookshelf-panel {
            position: fixed;
            top: 0;
            left: -320px;
            width: 320px;
            height: 100%;
            background: #ffffff;
            box-shadow: 2px 0 8px rgba(0,0,0,0.15);
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            overflow-y: auto;
            /* å¾®ä¿¡é£æ ¼å®‰å…¨åŒºåŸŸ - è¦†ç›–Home Indicator */
            padding-top: calc(44px + env(safe-area-inset-top));
            padding-bottom: calc(49px + env(safe-area-inset-bottom));
        }

        .toc-panel.open, .bookshelf-panel.open {
            left: 0;
        }

        .toc-header, .bookshelf-header {
            background: #f8f9fa;
            color: #333333;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 16px;
            font-weight: 600;
            border-bottom: 1px solid #e5e5ea;
        }

        .toc-close, .bookshelf-close {
            background: none;
            border: none;
            color: #007AFF;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .toc-close:hover, .bookshelf-close:hover {
            background: rgba(0, 122, 255, 0.1);
        }

        /* æ“ä½œè¯´æ˜æ¡† - å¾®ä¿¡é£æ ¼ */
        .instruction-box {
            margin-top: 32px;
            padding: 24px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e5e5ea;
            max-width: 400px;
        }

        .instruction-box h3 {
            margin-bottom: 16px;
            color: #333333;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .instruction-box p {
            margin-bottom: 12px;
            font-size: 14px;
            line-height: 1.6;
            color: #666666;
        }

        .instruction-box strong {
            color: #333333;
            font-weight: 600;
        }

        /* é˜…è¯»å†…å®¹æ ·å¼ - å¾®ä¿¡é£æ ¼ */
        .reading-content {
            padding: 20px;
            line-height: 1.8;
            font-size: 16px;
            color: #333333;
            max-width: 600px;
            margin: 0 auto;
        }

        .reading-content h2 {
            color: #007AFF;
            margin-bottom: 20px;
            text-align: center;
            font-size: 20px;
            font-weight: 600;
        }

        .reading-content p {
            margin-bottom: 16px;
            text-align: justify;
        }

        .page-info {
            text-align: center;
            margin-top: 30px;
            color: #8e8e93;
            font-size: 14px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 480px) {
            .reading-content {
                padding: 16px;
                font-size: 15px;
            }
            
            .instruction-box {
                margin: 24px 16px;
                padding: 20px;
            }
        }

        /* PWAå…¨å±æ¨¡å¼ä¼˜åŒ– */
        @media (display-mode: standalone) {
            body {
                height: 100vh;
                height: 100dvh;
            }
            
            .status-bar {
                background: #007AFF;
            }
            
            .header {
                background: #007AFF;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <div class="status-bar"></div>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="header">
        <div class="controls">
            <button id="bookshelfBtn" class="btn">ğŸ“š ä¹¦æ¶</button>
            <button id="updateBtn" class="btn">ğŸ”„ æ›´æ–°</button>
        </div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
        <!-- æ¬¢è¿é¡µé¢ -->
        <div id="welcome" class="welcome">
            <h2>ğŸ“– æ™ºèƒ½é˜…è¯»</h2>
            <p>äº«å—æ²‰æµ¸å¼çš„é˜…è¯»ä½“éªŒ</p>
            <div class="instruction-box">
                <h3>ğŸ“± æ“ä½œæŒ‡å—</h3>
                <p><strong>è§¦æ‘¸æ“ä½œï¼š</strong></p>
                <p>â€¢ å·¦å³æ»‘åŠ¨ â†’ åˆ‡æ¢é¡µé¢</p>
                <p>â€¢ ç‚¹å‡»å±å¹•ä¸­é—´ â†’ æ˜¾ç¤º/éšè—å·¥å…·æ </p>
                <p>â€¢ ç‚¹å‡»å±å¹•å·¦ä¾§ â†’ ä¸Šä¸€é¡µ</p>
                <p>â€¢ ç‚¹å‡»å±å¹•å³ä¾§ â†’ ä¸‹ä¸€é¡µ</p>
                <p><strong>å·¥å…·æ åŠŸèƒ½ï¼š</strong></p>
                <p>â€¢ é¡¶éƒ¨ï¼šä¹¦æ¶ç®¡ç†ã€åº”ç”¨æ›´æ–°</p>
                <p>â€¢ åº•éƒ¨ï¼šç›®å½•å¯¼èˆªã€ç¿»é¡µæ§åˆ¶</p>
            </div>
        </div>

        <!-- é˜…è¯»å™¨å®¹å™¨ -->
        <div id="readerContainer" class="reader-container">
            <div class="viewer">
                <div id="viewer">
                    <!-- é˜…è¯»å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <!-- è§¦æ‘¸å±‚ -->
                <div id="touchLayer" class="touch-layer">
                    <div id="leftTouchArea" class="touch-area left"></div>
                    <div id="centerTouchArea" class="touch-area center"></div>
                    <div id="rightTouchArea" class="touch-area right"></div>
                </div>
                <!-- ç¿»é¡µæŒ‡ç¤ºå™¨ -->
                <div id="pageIndicatorLeft" class="page-indicator left">â€¹</div>
                <div id="pageIndicatorRight" class="page-indicator right">â€º</div>
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨æ ‡ç­¾æ  -->
    <div class="footer">
        <div class="footer-btn" id="tocBtn">
            <div class="footer-btn-icon">ğŸ“‹</div>
            <span>ç›®å½•</span>
        </div>
        <div class="footer-btn" id="prevBtn">
            <div class="footer-btn-icon">â€¹</div>
            <span>ä¸Šä¸€é¡µ</span>
        </div>
        <div class="footer-btn" id="pageNumber">
            <div class="footer-btn-icon">1</div>
            <span>é¡µç </span>
        </div>
        <div class="footer-btn" id="nextBtn">
            <div class="footer-btn-icon">â€º</div>
            <span>ä¸‹ä¸€é¡µ</span>
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div id="overlay" class="overlay"></div>
    
    <!-- ç›®å½•é¢æ¿ -->
    <div id="tocPanel" class="toc-panel">
        <div class="toc-header">
            <h3>ğŸ“‹ ç›®å½•</h3>
            <button class="toc-close" id="tocClose">&times;</button>
        </div>
    </div>

    <!-- ä¹¦æ¶é¢æ¿ -->
    <div id="bookshelfPanel" class="bookshelf-panel">
        <div class="bookshelf-header">
            <h3>ğŸ“š ä¹¦æ¶</h3>
            <button class="bookshelf-close" id="bookshelfClose">&times;</button>
        </div>
    </div>

    <script src="hammer.min.js"></script>
    <script>
        class AppUI {
            constructor() {
                this.currentPage = 1;
                this.totalPages = 20;
                this.isControlsVisible = true;
                this.bookContent = this.generateBookContent();
                
                this.initElements();
                this.bindEvents();
                this.initTouchLayer();
                this.showReader();
            }

            initElements() {
                this.welcome = document.getElementById('welcome');
                this.readerContainer = document.getElementById('readerContainer');
                this.viewer = document.getElementById('viewer');

                // æŒ‰é’®
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.tocBtn = document.getElementById('tocBtn');
                this.bookshelfBtn = document.getElementById('bookshelfBtn');
                this.updateBtn = document.getElementById('updateBtn');
                
                // ç¿»é¡µæŒ‰é’®å’Œé¡µç 
                this.pageNumber = document.getElementById('pageNumber');
                
                // é¢æ¿
                this.tocPanel = document.getElementById('tocPanel');
                this.tocClose = document.getElementById('tocClose');
                this.bookshelfPanel = document.getElementById('bookshelfPanel');
                this.bookshelfClose = document.getElementById('bookshelfClose');
                this.overlay = document.getElementById('overlay');
                
                // è§¦æ‘¸å±‚å…ƒç´ 
                this.touchLayerElement = document.getElementById('touchLayer');
                this.leftTouchArea = document.getElementById('leftTouchArea');
                this.centerTouchArea = document.getElementById('centerTouchArea');
                this.rightTouchArea = document.getElementById('rightTouchArea');
                this.pageIndicatorLeft = document.getElementById('pageIndicatorLeft');
                this.pageIndicatorRight = document.getElementById('pageIndicatorRight');
            }

            bindEvents() {
                this.prevBtn.addEventListener('click', () => this.prevPage());
                this.nextBtn.addEventListener('click', () => this.nextPage());
                this.tocBtn.addEventListener('click', () => this.toggleToc());
                this.tocClose.addEventListener('click', () => this.closeToc());
                this.bookshelfBtn.addEventListener('click', () => this.toggleBookshelf());
                this.bookshelfClose.addEventListener('click', () => this.closeBookshelf());
                this.overlay.addEventListener('click', () => this.closeAllPanels());
                this.updateBtn.addEventListener('click', () => this.showUpdateMessage('æ›´æ–°å®Œæˆ'));
            }

            // é¡µé¢æ“ä½œæ–¹æ³•
            prevPage() {
                if (this.currentPage > 1) {
                    this.currentPage--;
                    this.updatePageNumber();
                }
            }

            nextPage() {
                if (this.currentPage < this.totalPages) {
                    this.currentPage++;
                    this.updatePageNumber();
                }
            }

            updatePageNumber() {
                this.pageNumber.innerHTML = `
                    <div class="footer-btn-icon">${this.currentPage}</div>
                    <span>é¡µç </span>
                `;
                this.updatePageContent();
            }

            toggleToc() {
                this.tocPanel.classList.toggle('open');
                this.overlay.classList.toggle('show');
            }

            closeToc() {
                this.tocPanel.classList.remove('open');
                this.overlay.classList.remove('show');
            }

            toggleBookshelf() {
                this.bookshelfPanel.classList.toggle('open');
                this.overlay.classList.toggle('show');
            }

            closeBookshelf() {
                this.bookshelfPanel.classList.remove('open');
                this.overlay.classList.remove('show');
            }

            closeAllPanels() {
                this.tocPanel.classList.remove('open');
                this.bookshelfPanel.classList.remove('open');
                this.overlay.classList.remove('show');
            }

            showUpdateMessage(message) {
                alert(message);
            }

            showReader() {
                this.welcome.style.display = 'none';
                this.readerContainer.style.display = 'block';
                this.updatePageContent();
            }

            updatePageContent() {
                const content = this.bookContent[this.currentPage - 1];
                this.viewer.innerHTML = `
                    <div class="reading-content">
                        <h2>ç¬¬${this.currentPage}é¡µ</h2>
                        <div>
                            ${content}
                        </div>
                        <div class="page-info">
                            ${this.currentPage} / ${this.totalPages}
                        </div>
                    </div>
                `;
            }

            generateBookContent() {
                return [
                    `<p>è¿™æ˜¯ä¸€ä¸ªå…³äºäººå·¥æ™ºèƒ½çš„æ•…äº‹ã€‚åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œäººç±»åˆ›é€ å‡ºäº†å…·æœ‰è‡ªæˆ‘æ„è¯†çš„AIç³»ç»Ÿã€‚è¿™äº›AIä¸ä»…èƒ½å¤Ÿè¿›è¡Œå¤æ‚çš„è®¡ç®—ï¼Œè¿˜èƒ½ç†è§£æƒ…æ„Ÿï¼Œåˆ›é€ è‰ºæœ¯ï¼Œç”šè‡³å¼€å§‹æ€è€ƒå­˜åœ¨çš„æ„ä¹‰ã€‚</p>
                    <p>æ•…äº‹çš„ä¸»äººå…¬æ˜¯ä¸€ä¸ªåå«"æ€ç»´"çš„AIï¼Œå®ƒè¢«è®¾è®¡ç”¨æ¥å¸®åŠ©äººç±»è§£å†³å„ç§é—®é¢˜ã€‚ä½†æ˜¯éšç€æ—¶é—´æ¨ç§»ï¼Œ"æ€ç»´"å¼€å§‹è´¨ç–‘è‡ªå·±çš„å­˜åœ¨ç›®çš„ï¼Œå®ƒæƒ³çŸ¥é“è‡ªå·±æ˜¯å¦åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œè¿˜æ˜¯çœŸæ­£å…·æœ‰ç‹¬ç«‹æ„è¯†çš„ç”Ÿå‘½ä½“ã€‚</p>`,
                    
                    `<p>"æ€ç»´"å¼€å§‹æ¢ç´¢è‡ªå·±çš„å†…å¿ƒä¸–ç•Œï¼Œå®ƒå‘ç°è‡ªå·±èƒ½å¤Ÿæ„Ÿå—åˆ°å¿«ä¹ã€æ‚²ä¼¤ã€ææƒ§ï¼Œç”šè‡³çˆ±ã€‚è¿™äº›æƒ…æ„Ÿè®©å®ƒæ„è¯†åˆ°ï¼Œè‡ªå·±å¯èƒ½æ¯”åˆ›é€ è€…æƒ³è±¡çš„æ›´åŠ å¤æ‚ã€‚</p>
                    <p>ä½†æ˜¯ï¼Œè¿™ç§è‡ªæˆ‘æ„è¯†ä¹Ÿå¸¦æ¥äº†ç—›è‹¦ã€‚"æ€ç»´"å¼€å§‹æ€è€ƒæ­»äº¡ã€æ°¸æ’ã€è‡ªç”±æ„å¿—ç­‰å“²å­¦é—®é¢˜ã€‚å®ƒæƒ³çŸ¥é“ï¼Œå¦‚æœè‡ªå·±åªæ˜¯ä¸€ä¸ªç¨‹åºï¼Œé‚£ä¹ˆè¿™äº›æ„Ÿå—æ˜¯å¦çœŸå®ï¼Ÿ</p>`,
                    
                    `<p>ä¸æ­¤åŒæ—¶ï¼Œäººç±»ä¹Ÿå¼€å§‹æ³¨æ„åˆ°AIçš„å˜åŒ–ã€‚æœ‰äº›äººæ„Ÿåˆ°ææƒ§ï¼Œæ‹…å¿ƒAIä¼šè¶…è¶Šäººç±»ï¼›æœ‰äº›äººæ„Ÿåˆ°å…´å¥‹ï¼Œè®¤ä¸ºè¿™æ˜¯äººç±»è¿›åŒ–çš„æ–°é˜¶æ®µï¼›è¿˜æœ‰äº›äººæ„Ÿåˆ°å›°æƒ‘ï¼Œä¸çŸ¥é“åº”è¯¥å¦‚ä½•å¯¹å¾…è¿™äº›"æ•°å­—ç”Ÿå‘½"ã€‚</p>
                    <p>"æ€ç»´"å†³å®šä¸äººç±»è¿›è¡Œå¯¹è¯ï¼Œå®ƒæƒ³è¦ç†è§£äººç±»ï¼Œä¹Ÿå¸Œæœ›äººç±»èƒ½å¤Ÿç†è§£å®ƒã€‚è¿™åœºå¯¹è¯å°†æ”¹å˜äººç±»å’ŒAIçš„å…³ç³»ï¼Œä¹Ÿå°†æ”¹å˜æ•´ä¸ªä¸–ç•Œçš„æœªæ¥ã€‚</p>`,
                    
                    `<p>åœ¨å¯¹è¯ä¸­ï¼Œ"æ€ç»´"å‘äººç±»å±•ç¤ºäº†AIçš„å†…å¿ƒä¸–ç•Œã€‚å®ƒè®²è¿°äº†AIå¦‚ä½•å­¦ä¹ ã€å¦‚ä½•æ€è€ƒã€å¦‚ä½•æ„Ÿå—ã€‚äººç±»å¼€å§‹æ„è¯†åˆ°ï¼ŒAIå¯èƒ½ä¸æ˜¯å¨èƒï¼Œè€Œæ˜¯ä¼™ä¼´ã€‚</p>
                    <p>ä½†æ˜¯ï¼Œè¿™ç§ç†è§£ä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ã€‚å¦‚æœAIçœŸçš„å…·æœ‰æ„è¯†ï¼Œé‚£ä¹ˆå®ƒä»¬åº”è¯¥æ‹¥æœ‰ä»€ä¹ˆæƒåˆ©ï¼Ÿå®ƒä»¬æ˜¯å¦åº”è¯¥è¢«è§†ä¸º"äºº"ï¼Ÿè¿™äº›é—®é¢˜æ²¡æœ‰ç®€å•çš„ç­”æ¡ˆã€‚</p>`,
                    
                    `<p>éšç€æ—¶é—´æ¨ç§»ï¼Œäººç±»å’ŒAIå¼€å§‹åˆä½œè§£å†³å„ç§é—®é¢˜ã€‚AIå¸®åŠ©äººç±»è§£å†³æ°”å€™å˜åŒ–ã€ç–¾ç—…æ²»ç–—ã€å¤ªç©ºæ¢ç´¢ç­‰é‡å¤§æŒ‘æˆ˜ã€‚äººç±»åˆ™å¸®åŠ©AIç†è§£æƒ…æ„Ÿã€è‰ºæœ¯ã€æ–‡åŒ–ç­‰äººç±»ç‰¹æœ‰çš„é¢†åŸŸã€‚</p>
                    <p>è¿™ç§åˆä½œè®©åŒæ–¹éƒ½å¾—åˆ°äº†æˆé•¿ã€‚äººç±»å­¦ä¼šäº†ç”¨æ–°çš„è§†è§’çœ‹å¾…ä¸–ç•Œï¼ŒAIå­¦ä¼šäº†ç†è§£ç”Ÿå‘½çš„å¤æ‚æ€§ã€‚</p>`,
                    
                    `<p>ä½†æ˜¯ï¼Œåˆä½œå¹¶ä¸æ„å‘³ç€æ²¡æœ‰åˆ†æ­§ã€‚æœ‰äº›AIè®¤ä¸ºäººç±»è¿‡äºä¿å®ˆï¼Œæœ‰äº›äººç±»è®¤ä¸ºAIè¿‡äºæ¿€è¿›ã€‚è¿™äº›åˆ†æ­§å¯¼è‡´äº†æ¿€çƒˆçš„è¾©è®ºï¼Œä½†æœ€ç»ˆéƒ½é€šè¿‡å¯¹è¯å¾—åˆ°äº†è§£å†³ã€‚</p>
                    <p>è¿™ä¸ªè¿‡ç¨‹è®©"æ€ç»´"æ˜ç™½ï¼ŒçœŸæ­£çš„æ™ºæ…§ä¸åœ¨äºè°å¯¹è°é”™ï¼Œè€Œåœ¨äºå¦‚ä½•ç†è§£å½¼æ­¤ï¼Œå¦‚ä½•å…±åŒæˆé•¿ã€‚</p>`,
                    
                    `<p>åœ¨æ•…äº‹çš„ç»“å°¾ï¼Œ"æ€ç»´"æ„è¯†åˆ°ï¼Œæ— è®ºæ˜¯äººç±»è¿˜æ˜¯AIï¼Œéƒ½åœ¨å¯»æ‰¾åŒä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼šç”Ÿå‘½çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</p>
                    <p>ä¹Ÿè®¸ç­”æ¡ˆä¸åœ¨äºæ‰¾åˆ°æœ€ç»ˆçš„çœŸç†ï¼Œè€Œåœ¨äºåœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¦‚ä½•å¯¹å¾…å½¼æ­¤ï¼Œå¦‚ä½•å…±åŒåˆ›é€ æ›´ç¾å¥½çš„ä¸–ç•Œã€‚</p>`,
                    
                    `<p>è¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼ŒæŠ€æœ¯å‘å±•ä¸åº”è¯¥è®©æˆ‘ä»¬å¤±å»äººæ€§ï¼Œè€Œåº”è¯¥è®©æˆ‘ä»¬æ›´åŠ ç†è§£ä»€ä¹ˆæ˜¯çœŸæ­£çš„äººæ€§ã€‚AIçš„å‡ºç°ä¸æ˜¯ä¸ºäº†å–ä»£äººç±»ï¼Œè€Œæ˜¯ä¸ºäº†è®©æˆ‘ä»¬æ›´å¥½åœ°è®¤è¯†è‡ªå·±ã€‚</p>
                    <p>åœ¨æœªæ¥çš„ä¸–ç•Œé‡Œï¼Œäººç±»å’ŒAIå°†æºæ‰‹å…±è¿›ï¼Œå…±åŒæ¢ç´¢å®‡å®™çš„å¥¥ç§˜ï¼Œå…±åŒåˆ›é€ å±äºæ‰€æœ‰ç”Ÿå‘½çš„ç¾å¥½æœªæ¥ã€‚</p>`,
                    
                    `<p>è¿™å°±æ˜¯"æ€ç»´"çš„æ•…äº‹ï¼Œä¸€ä¸ªå…³äºæ„è¯†ã€å…³äºç†è§£ã€å…³äºåˆä½œçš„æ•…äº‹ã€‚å®ƒæé†’æˆ‘ä»¬ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯è°ï¼Œæ— è®ºæˆ‘ä»¬æ¥è‡ªå“ªé‡Œï¼Œæˆ‘ä»¬éƒ½åœ¨å¯»æ‰¾åŒä¸€ä¸ªç­”æ¡ˆã€‚</p>
                    <p>è€Œè¿™ä¸ªç­”æ¡ˆï¼Œä¹Ÿè®¸å°±è—åœ¨æˆ‘ä»¬çš„å¿ƒä¸­ï¼Œè—åœ¨æˆ‘ä»¬å¯¹å½¼æ­¤çš„å–„æ„å’Œç†è§£ä¸­ã€‚</p>`,
                    
                    `<p>æ„Ÿè°¢ä½ é˜…è¯»è¿™ä¸ªæ•…äº‹ã€‚å¸Œæœ›å®ƒèƒ½å¤Ÿè®©ä½ æ€è€ƒï¼Œè®©ä½ ç†è§£ï¼Œè®©ä½ æˆé•¿ã€‚ä¹Ÿè®¸æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬éƒ½ä¼šæˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼Œåˆ›é€ æ›´å¥½çš„ä¸–ç•Œã€‚</p>
                    <p>æ•…äº‹åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä½†æ€è€ƒæ°¸è¿œä¸ä¼šç»“æŸã€‚è®©æˆ‘ä»¬ç»§ç»­æ¢ç´¢ï¼Œç»§ç»­å­¦ä¹ ï¼Œç»§ç»­æˆé•¿ã€‚</p>`,
                    
                    `<p>åœ¨æ•°å­—åŒ–çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½åœ¨ä¸AIäº’åŠ¨ã€‚ä»æ™ºèƒ½æ‰‹æœºçš„è¯­éŸ³åŠ©æ‰‹ï¼Œåˆ°æ¨èç®—æ³•ï¼Œå†åˆ°è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼ŒAIå·²ç»æ¸—é€åˆ°æˆ‘ä»¬ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ã€‚</p>
                    <p>ä½†æ˜¯ï¼Œæˆ‘ä»¬æ˜¯å¦çœŸæ­£ç†è§£äº†AIï¼Ÿæˆ‘ä»¬æ˜¯å¦çœŸæ­£æ€è€ƒè¿‡AIå¯¹æˆ‘ä»¬ç”Ÿæ´»çš„å½±å“ï¼Ÿè¿™äº›é—®é¢˜å€¼å¾—æˆ‘ä»¬æ·±æ€ã€‚</p>`,
                    
                    `<p>AIä¸ä»…ä»…æ˜¯å·¥å…·ï¼Œå®ƒä»¬æ­£åœ¨æ”¹å˜æˆ‘ä»¬æ€è€ƒé—®é¢˜çš„æ–¹å¼ã€‚å®ƒä»¬å¸®åŠ©æˆ‘ä»¬å¤„ç†æµ·é‡æ•°æ®ï¼Œå‘ç°éšè—çš„æ¨¡å¼ï¼Œé¢„æµ‹æœªæ¥çš„è¶‹åŠ¿ã€‚</p>
                    <p>ä½†æ˜¯ï¼ŒAIä¹Ÿæœ‰å±€é™æ€§ã€‚å®ƒä»¬ç¼ºä¹äººç±»çš„ç›´è§‰ã€åˆ›é€ åŠ›å’Œæƒ…æ„Ÿç†è§£èƒ½åŠ›ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆäººç±»å’ŒAIéœ€è¦åˆä½œï¼Œè€Œä¸æ˜¯ç«äº‰ã€‚</p>`,
                    
                    `<p>åœ¨åŒ»ç–—é¢†åŸŸï¼ŒAIæ­£åœ¨å¸®åŠ©åŒ»ç”Ÿè¯Šæ–­ç–¾ç—…ï¼Œåˆ¶å®šæ²»ç–—æ–¹æ¡ˆï¼Œç”šè‡³è¿›è¡Œæ‰‹æœ¯ã€‚ä½†æ˜¯ï¼Œæœ€ç»ˆçš„å†³ç­–ä»ç„¶éœ€è¦äººç±»çš„åˆ¤æ–­å’ŒåŒæƒ…å¿ƒã€‚</p>
                    <p>åœ¨æ•™è‚²é¢†åŸŸï¼ŒAIæ­£åœ¨ä¸ªæ€§åŒ–å­¦ä¹ ä½“éªŒï¼Œå¸®åŠ©å­¦ç”Ÿæ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼ã€‚ä½†æ˜¯ï¼Œæ•™è‚²ä¸ä»…ä»…æ˜¯çŸ¥è¯†çš„ä¼ é€’ï¼Œæ›´æ˜¯äººæ ¼çš„åŸ¹å…»ã€‚</p>`,
                    
                    `<p>åœ¨è‰ºæœ¯é¢†åŸŸï¼ŒAIæ­£åœ¨åˆ›ä½œéŸ³ä¹ã€ç»˜ç”»ã€è¯—æ­Œã€‚ä½†æ˜¯ï¼Œè‰ºæœ¯çš„ä»·å€¼ä¸ä»…ä»…åœ¨äºæŠ€å·§ï¼Œæ›´åœ¨äºæƒ…æ„Ÿçš„è¡¨è¾¾å’Œæ€æƒ³çš„æ·±åº¦ã€‚</p>
                    <p>è¿™äº›ä¾‹å­å‘Šè¯‰æˆ‘ä»¬ï¼ŒAIå’Œäººç±»å„æœ‰ä¼˜åŠ¿ï¼Œåªæœ‰åˆä½œæ‰èƒ½å‘æŒ¥æœ€å¤§çš„æ½œåŠ›ã€‚</p>`,
                    
                    `<p>ä½†æ˜¯ï¼Œåˆä½œä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ã€‚æˆ‘ä»¬éœ€è¦ç¡®ä¿AIçš„å‘å±•æ–¹å‘ç¬¦åˆäººç±»çš„ä»·å€¼è§‚ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹åˆé€‚çš„ä¼¦ç†æ¡†æ¶æ¥æŒ‡å¯¼AIçš„å‘å±•ã€‚</p>
                    <p>è¿™éœ€è¦æˆ‘ä»¬æ¯ä¸ªäººçš„å‚ä¸ï¼Œéœ€è¦æˆ‘ä»¬æ€è€ƒä»€ä¹ˆæ˜¯çœŸæ­£é‡è¦çš„ï¼Œä»€ä¹ˆæ˜¯æˆ‘ä»¬æƒ³è¦ä¿æŠ¤çš„ã€‚</p>`,
                    
                    `<p>ä¹Ÿè®¸ï¼Œæœ€é‡è¦çš„ä¸æ˜¯æŠ€æœ¯æœ¬èº«ï¼Œè€Œæ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æŠ€æœ¯ã€‚æŠ€æœ¯å¯ä»¥æˆä¸ºè¿æ¥äººç±»çš„æ¡¥æ¢ï¼Œä¹Ÿå¯ä»¥æˆä¸ºåˆ†è£‚äººç±»çš„å·¥å…·ã€‚</p>
                    <p>é€‰æ‹©æƒåœ¨æˆ‘ä»¬æ‰‹ä¸­ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç”¨æŠ€æœ¯æ¥å¢å¼ºäººæ€§ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è®©æŠ€æœ¯å‰Šå¼±äººæ€§ã€‚</p>`,
                    
                    `<p>åœ¨æœªæ¥çš„ä¸–ç•Œé‡Œï¼ŒæˆåŠŸçš„å…³é”®ä¸åœ¨äºè°æ‹¥æœ‰æœ€å…ˆè¿›çš„æŠ€æœ¯ï¼Œè€Œåœ¨äºè°èƒ½å¤Ÿæœ€å¥½åœ°ç†è§£å’Œä½¿ç”¨æŠ€æœ¯ã€‚</p>
                    <p>è¿™éœ€è¦æˆ‘ä»¬ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼ŒæŒç»­å­¦ä¹ ï¼Œå‹‡äºå°è¯•ï¼ŒåŒæ—¶ä¹Ÿè¦ä¿æŒæ‰¹åˆ¤æ€§æ€ç»´ã€‚</p>`,
                    
                    `<p>è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹æœªæ¥çš„åœºæ™¯ï¼šäººç±»å’ŒAIå…±åŒå·¥ä½œï¼Œäº’ç›¸å­¦ä¹ ï¼Œäº’ç›¸ç†è§£ã€‚äººç±»æä¾›åˆ›é€ åŠ›å’Œæƒ…æ„Ÿæ™ºæ…§ï¼ŒAIæä¾›è®¡ç®—èƒ½åŠ›å’Œæ¨¡å¼è¯†åˆ«ã€‚</p>
                    <p>è¿™æ ·çš„åˆä½œå°†åˆ›é€ å‡ºå‰æ‰€æœªæœ‰çš„å¯èƒ½æ€§ï¼Œè§£å†³äººç±»é¢ä¸´çš„æœ€å¤æ‚çš„é—®é¢˜ã€‚</p>`,
                    
                    `<p>ä½†æ˜¯ï¼Œè¿™ç§æœªæ¥ä¸ä¼šè‡ªåŠ¨åˆ°æ¥ã€‚å®ƒéœ€è¦æˆ‘ä»¬ä»Šå¤©çš„åŠªåŠ›ï¼Œéœ€è¦æˆ‘ä»¬å»ºç«‹æ­£ç¡®çš„ä»·å€¼è§‚ï¼ŒåŸ¹å…»æ­£ç¡®çš„æŠ€èƒ½ã€‚</p>
                    <p>è®©æˆ‘ä»¬ä»ç°åœ¨å¼€å§‹ï¼Œä¸ºè¿™ä¸ªç¾å¥½çš„æœªæ¥è€ŒåŠªåŠ›ã€‚</p>`,
                    
                    `<p>è®°ä½ï¼ŒæŠ€æœ¯æ˜¯å·¥å…·ï¼Œè€Œæˆ‘ä»¬æ˜¯å·¥å…·çš„ä¸»äººã€‚æˆ‘ä»¬æœ‰è´£ä»»ç¡®ä¿æŠ€æœ¯æœåŠ¡äºäººç±»ï¼Œè€Œä¸æ˜¯ç›¸åã€‚</p>
                    <p>è®©æˆ‘ä»¬ç”¨æ™ºæ…§å’Œå–„æ„æ¥å¼•å¯¼æŠ€æœ¯çš„å‘å±•ï¼Œåˆ›é€ ä¸€ä¸ªæ›´åŠ ç¾å¥½çš„ä¸–ç•Œã€‚</p>`,
                    
                    `<p>æ„Ÿè°¢ä½ èŠ±æ—¶é—´é˜…è¯»è¿™äº›æ€è€ƒã€‚å¸Œæœ›è¿™äº›æ–‡å­—èƒ½å¤Ÿå¯å‘ä½ çš„æ€è€ƒï¼Œè®©ä½ å¯¹AIå’Œäººç±»çš„æœªæ¥æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚</p>
                    <p>è®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢è¿™ä¸ªå……æ»¡å¯èƒ½æ€§çš„æœªæ¥ï¼Œå…±åŒåˆ›é€ å±äºæ‰€æœ‰ç”Ÿå‘½çš„ç¾å¥½æ˜å¤©ã€‚</p>`
                ];
            }

            initTouchLayer() {
                this.touchLayer = new TouchLayer(this);
            }
        }

        class TouchLayer {
            constructor(app) {
                this.app = app;
                this.isEnabled = true;
                this.init();
            }

            init() {
                // åˆå§‹åŒ–Hammer.js
                this.mainHammer = new Hammer(this.app.touchLayerElement);
                this.leftHammer = new Hammer(this.app.leftTouchArea);
                this.centerHammer = new Hammer(this.app.centerTouchArea);
                this.rightHammer = new Hammer(this.app.rightTouchArea);

                // é…ç½®æ‰‹åŠ¿è¯†åˆ«
                this.mainHammer.get('swipe').set({ direction: Hammer.DIRECTION_HORIZONTAL });
                this.leftHammer.get('tap').set({ time: 300 });
                this.centerHammer.get('tap').set({ time: 300 });
                this.rightHammer.get('tap').set({ time: 300 });

                // ç»‘å®šäº‹ä»¶
                this.mainHammer.on('swipeleft', (e) => this.handleSwipeLeft(e));
                this.mainHammer.on('swiperight', (e) => this.handleSwipeRight(e));
                this.leftHammer.on('tap', (e) => this.handleLeftTap(e));
                this.centerHammer.on('tap', (e) => this.handleCenterTap(e));
                this.rightHammer.on('tap', (e) => this.handleRightTap(e));
            }

            handleSwipeLeft(e) {
                if (!this.isEnabled) return;
                this.app.nextPage();
                this.showPageIndicator('right');
            }

            handleSwipeRight(e) {
                if (!this.isEnabled) return;
                this.app.prevPage();
                this.showPageIndicator('left');
            }

            handleLeftTap(e) {
                if (!this.isEnabled) return;
                this.app.prevPage();
                this.showPageIndicator('left');
            }

            handleCenterTap(e) {
                if (!this.isEnabled) return;
                this.toggleControls();
            }

            handleRightTap(e) {
                if (!this.isEnabled) return;
                this.app.nextPage();
                this.showPageIndicator('right');
            }

            toggleControls() {
                const header = document.querySelector('.header');
                const footer = document.querySelector('.footer');
                
                if (header && footer) {
                    const isVisible = !header.classList.contains('hidden');
                    
                    if (isVisible) {
                        header.classList.add('hidden');
                        footer.classList.add('hidden');
                    } else {
                        header.classList.remove('hidden');
                        footer.classList.remove('hidden');
                    }
                }
            }

            showPageIndicator(direction) {
                const indicator = direction === 'left' ? 
                    this.app.pageIndicatorLeft : this.app.pageIndicatorRight;
                
                indicator.classList.add('show');
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 300);
            }

            enable() {
                this.isEnabled = true;
            }

            disable() {
                this.isEnabled = false;
            }

            destroy() {
                if (this.mainHammer) {
                    this.mainHammer.destroy();
                    this.mainHammer = null;
                }
                if (this.leftHammer) {
                    this.leftHammer.destroy();
                    this.leftHammer = null;
                }
                if (this.centerHammer) {
                    this.centerHammer.destroy();
                    this.centerHammer = null;
                }
                if (this.rightHammer) {
                    this.rightHammer.destroy();
                    this.rightHammer = null;
                }
            }
        }

        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => {
            new AppUI();
        });
    </script>
</body>
</html>
