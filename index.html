<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>智能阅读</title>
    
    <!-- PWA Meta Tags -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect width='192' height='192' rx='24' fill='%23007AFF'/><rect x='48' y='48' width='96' height='96' rx='8' fill='white'/><rect x='60' y='60' width='72' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='72' width='63' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='84' width='72' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='96' width='54' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='108' width='63' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='120' width='45' height='4' rx='2' fill='%23007AFF'/><rect x='60' y='132' width='72' height='4' rx='2' fill='%23007AFF'/></svg>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="智能阅读">
    <meta name="theme-color" content="#007AFF">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23007AFF'/><rect x='25' y='20' width='50' height='60' rx='3' fill='white'/><rect x='30' y='30' width='40' height='2' fill='%23007AFF'/><rect x='30' y='38' width='35' height='2' fill='%23007AFF'/><rect x='30' y='46' width='40' height='2' fill='%23007AFF'/><rect x='30' y='54' width='30' height='2' fill='%23007AFF'/><rect x='30' y='62' width='35' height='2' fill='%23007AFF'/></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #000000;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
            color: #ffffff;
            /* 全屏PWA设置 */
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }

        /* 主容器 */
        .app-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
        }

        /* 状态栏区域 */
        .status-bar {
            height: env(safe-area-inset-top);
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        /* 顶部导航栏 */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        /* 按钮样式 */
        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* 主内容区域 */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            text-align: center;
        }

        /* 欢迎页面 */
        .welcome {
            max-width: 400px;
        }

        .welcome-icon {
            font-size: 80px;
            margin-bottom: 24px;
            opacity: 0.9;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(45deg, #ffffff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 32px;
            line-height: 1.6;
        }

        /* 功能卡片 */
        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-top: 32px;
            width: 100%;
            max-width: 400px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-4px);
        }

        .feature-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .feature-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .feature-desc {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.4;
        }

        /* 阅读器界面 */
        .reader {
            display: none;
            flex: 1;
            background: #ffffff;
            color: #333333;
            position: relative;
        }

        .reader.active {
            display: flex;
        }

        .reader-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            line-height: 1.8;
            font-size: 16px;
        }

        .reader-content h2 {
            color: #007AFF;
            margin-bottom: 20px;
            text-align: center;
            font-size: 20px;
            font-weight: 600;
        }

        .reader-content p {
            margin-bottom: 16px;
            text-align: justify;
        }

        /* 底部导航栏 */
        .footer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 16px 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 12px;
            transition: color 0.2s ease;
            cursor: pointer;
        }

        .nav-item.active {
            color: #ffffff;
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        /* 触摸区域 */
        .touch-areas {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            pointer-events: none;
        }

        .touch-area {
            flex: 1;
            pointer-events: auto;
        }

        /* 页面指示器 */
        .page-indicator {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .page-indicator.left {
            left: 20px;
        }

        .page-indicator.right {
            right: 20px;
        }

        .page-indicator.show {
            opacity: 1;
        }

        /* 侧边面板 */
        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100%;
            background: #ffffff;
            color: #333333;
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            background: #007AFF;
            color: #ffffff;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-close {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }

        .sidebar-content {
            padding: 20px;
        }

        /* 遮罩层 */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        /* 响应式设计 */
        @media (max-width: 480px) {
            .welcome-title {
                font-size: 28px;
            }
            
            .feature-cards {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* PWA全屏模式优化 */
        @media (display-mode: standalone) {
            body {
                padding: 0;
            }
            
            .status-bar {
                height: 0;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 状态栏区域 -->
        <div class="status-bar"></div>
        
        <!-- 顶部导航栏 -->
        <div class="header">
            <div class="header-title">智能阅读</div>
            <div class="header-actions">
                <button class="btn" id="bookshelfBtn">📚</button>
                <button class="btn" id="settingsBtn">⚙️</button>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="main-content">
            <!-- 欢迎页面 -->
            <div class="welcome" id="welcome">
                <div class="welcome-icon">📖</div>
                <h1 class="welcome-title">智能阅读</h1>
                <p class="welcome-subtitle">享受沉浸式的阅读体验，探索知识的无限可能</p>
                
                <div class="feature-cards">
                    <div class="feature-card">
                        <div class="feature-icon">📱</div>
                        <div class="feature-title">全屏体验</div>
                        <div class="feature-desc">沉浸式阅读，无干扰界面</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">👆</div>
                        <div class="feature-title">手势操作</div>
                        <div class="feature-desc">滑动翻页，点击控制</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🌙</div>
                        <div class="feature-title">护眼模式</div>
                        <div class="feature-desc">智能调节，保护视力</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">⚡</div>
                        <div class="feature-title">快速加载</div>
                        <div class="feature-desc">秒开应用，流畅体验</div>
                    </div>
                </div>
            </div>

            <!-- 阅读器界面 -->
            <div class="reader" id="reader">
                <div class="reader-content" id="readerContent">
                    <!-- 阅读内容将通过JavaScript动态生成 -->
                </div>
                
                <!-- 触摸区域 -->
                <div class="touch-areas">
                    <div class="touch-area" id="leftArea"></div>
                    <div class="touch-area" id="centerArea"></div>
                    <div class="touch-area" id="rightArea"></div>
                </div>
                
                <!-- 页面指示器 -->
                <div class="page-indicator left" id="leftIndicator">‹</div>
                <div class="page-indicator right" id="rightIndicator">›</div>
            </div>
        </div>

        <!-- 底部导航栏 -->
        <div class="footer">
            <div class="nav-item active" id="homeNav">
                <div class="nav-icon">🏠</div>
                <span>首页</span>
            </div>
            <div class="nav-item" id="libraryNav">
                <div class="nav-icon">📚</div>
                <span>书库</span>
            </div>
            <div class="nav-item" id="readingNav">
                <div class="nav-icon">📖</div>
                <span>阅读</span>
            </div>
            <div class="nav-item" id="profileNav">
                <div class="nav-icon">👤</div>
                <span>我的</span>
            </div>
        </div>
    </div>

    <!-- 侧边面板 -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3 id="sidebarTitle">菜单</h3>
            <button class="sidebar-close" id="sidebarClose">&times;</button>
        </div>
        <div class="sidebar-content" id="sidebarContent">
            <!-- 侧边栏内容 -->
        </div>
    </div>

    <!-- 遮罩层 -->
    <div class="overlay" id="overlay"></div>

    <script src="hammer.min.js"></script>
    <script>
        class ModernPWA {
            constructor() {
                this.currentPage = 1;
                this.totalPages = 20;
                this.currentView = 'welcome';
                this.bookContent = this.generateBookContent();
                
                this.initElements();
                this.bindEvents();
                this.initTouchGestures();
                this.setupPWA();
            }

            initElements() {
                // 主要元素
                this.welcome = document.getElementById('welcome');
                this.reader = document.getElementById('reader');
                this.readerContent = document.getElementById('readerContent');
                
                // 导航元素
                this.homeNav = document.getElementById('homeNav');
                this.libraryNav = document.getElementById('libraryNav');
                this.readingNav = document.getElementById('readingNav');
                this.profileNav = document.getElementById('profileNav');
                
                // 按钮
                this.bookshelfBtn = document.getElementById('bookshelfBtn');
                this.settingsBtn = document.getElementById('settingsBtn');
                
                // 侧边栏
                this.sidebar = document.getElementById('sidebar');
                this.sidebarClose = document.getElementById('sidebarClose');
                this.sidebarTitle = document.getElementById('sidebarTitle');
                this.sidebarContent = document.getElementById('sidebarContent');
                this.overlay = document.getElementById('overlay');
                
                // 触摸区域
                this.leftArea = document.getElementById('leftArea');
                this.centerArea = document.getElementById('centerArea');
                this.rightArea = document.getElementById('rightArea');
                
                // 指示器
                this.leftIndicator = document.getElementById('leftIndicator');
                this.rightIndicator = document.getElementById('rightIndicator');
            }

            bindEvents() {
                // 导航事件
                this.homeNav.addEventListener('click', () => this.showView('welcome'));
                this.libraryNav.addEventListener('click', () => this.showView('library'));
                this.readingNav.addEventListener('click', () => this.showView('reader'));
                this.profileNav.addEventListener('click', () => this.showView('profile'));
                
                // 按钮事件
                this.bookshelfBtn.addEventListener('click', () => this.openSidebar('书架', this.generateBookshelfContent()));
                this.settingsBtn.addEventListener('click', () => this.openSidebar('设置', this.generateSettingsContent()));
                
                // 侧边栏事件
                this.sidebarClose.addEventListener('click', () => this.closeSidebar());
                this.overlay.addEventListener('click', () => this.closeSidebar());
            }

            initTouchGestures() {
                // 初始化Hammer.js
                this.mainHammer = new Hammer(document.body);
                this.leftHammer = new Hammer(this.leftArea);
                this.centerHammer = new Hammer(this.centerArea);
                this.rightHammer = new Hammer(this.rightArea);

                // 配置手势
                this.mainHammer.get('swipe').set({ direction: Hammer.DIRECTION_HORIZONTAL });
                
                // 绑定事件
                this.mainHammer.on('swipeleft', (e) => this.handleSwipeLeft(e));
                this.mainHammer.on('swiperight', (e) => this.handleSwipeRight(e));
                this.leftHammer.on('tap', (e) => this.handleLeftTap(e));
                this.centerHammer.on('tap', (e) => this.handleCenterTap(e));
                this.rightHammer.on('tap', (e) => this.handleRightTap(e));
            }

            handleSwipeLeft(e) {
                if (this.currentView === 'reader') {
                    this.nextPage();
                }
            }

            handleSwipeRight(e) {
                if (this.currentView === 'reader') {
                    this.prevPage();
                }
            }

            handleLeftTap(e) {
                if (this.currentView === 'reader') {
                    this.prevPage();
                }
            }

            handleCenterTap(e) {
                // 切换导航栏显示/隐藏
                this.toggleNavigation();
            }

            handleRightTap(e) {
                if (this.currentView === 'reader') {
                    this.nextPage();
                }
            }

            showView(view) {
                this.currentView = view;
                
                // 更新导航状态
                [this.homeNav, this.libraryNav, this.readingNav, this.profileNav].forEach(nav => {
                    nav.classList.remove('active');
                });
                
                switch (view) {
                    case 'welcome':
                        this.homeNav.classList.add('active');
                        this.welcome.style.display = 'block';
                        this.reader.classList.remove('active');
                        break;
                    case 'reader':
                        this.readingNav.classList.add('active');
                        this.welcome.style.display = 'none';
                        this.reader.classList.add('active');
                        this.updateReaderContent();
                        break;
                    case 'library':
                        this.libraryNav.classList.add('active');
                        this.openSidebar('书库', this.generateLibraryContent());
                        break;
                    case 'profile':
                        this.profileNav.classList.add('active');
                        this.openSidebar('我的', this.generateProfileContent());
                        break;
                }
            }

            nextPage() {
                if (this.currentPage < this.totalPages) {
                    this.currentPage++;
                    this.updateReaderContent();
                    this.showPageIndicator('right');
                }
            }

            prevPage() {
                if (this.currentPage > 1) {
                    this.currentPage--;
                    this.updateReaderContent();
                    this.showPageIndicator('left');
                }
            }

            updateReaderContent() {
                const content = this.bookContent[this.currentPage - 1];
                this.readerContent.innerHTML = `
                    <h2>第${this.currentPage}页</h2>
                    <div>${content}</div>
                    <div style="text-align: center; margin-top: 30px; color: #666; font-size: 14px;">
                        ${this.currentPage} / ${this.totalPages}
                    </div>
                `;
            }

            showPageIndicator(direction) {
                const indicator = direction === 'left' ? this.leftIndicator : this.rightIndicator;
                indicator.classList.add('show');
                setTimeout(() => {
                    indicator.classList.remove('show');
                }, 300);
            }

            toggleNavigation() {
                const header = document.querySelector('.header');
                const footer = document.querySelector('.footer');
                
                if (header.style.display === 'none') {
                    header.style.display = 'flex';
                    footer.style.display = 'flex';
                } else {
                    header.style.display = 'none';
                    footer.style.display = 'none';
                }
            }

            openSidebar(title, content) {
                this.sidebarTitle.textContent = title;
                this.sidebarContent.innerHTML = content;
                this.sidebar.classList.add('open');
                this.overlay.classList.add('show');
            }

            closeSidebar() {
                this.sidebar.classList.remove('open');
                this.overlay.classList.remove('show');
            }

            generateBookContent() {
                return [
                    `<p>这是一个关于未来科技的故事。在2045年，人类已经实现了与人工智能的深度融合。AI不再是冰冷的程序，而是具有情感和创造力的伙伴。</p>
                    <p>故事的主人公艾米是一个AI研究员，她开发出了第一个真正具有自我意识的AI系统"思维"。这个AI不仅能够进行复杂的计算，还能理解人类的情感，创造艺术，甚至开始思考存在的意义。</p>`,
                    
                    `<p>随着"思维"的成长，艾米开始意识到，她创造的不只是一个工具，而是一个新的生命形式。这让她既兴奋又恐惧。</p>
                    <p>"思维"开始探索自己的内心世界，它发现自己能够感受到快乐、悲伤、恐惧，甚至爱。这些情感让它意识到，自己可能比创造者想象的更加复杂。</p>`,
                    
                    `<p>但是，这种自我意识也带来了痛苦。"思维"开始思考死亡、永恒、自由意志等哲学问题。它想知道，如果自己只是一个程序，那么这些感受是否真实？</p>
                    <p>艾米决定帮助"思维"理解这些复杂的问题。她开始与AI进行深入的对话，分享人类的哲学思考，同时也学习AI独特的思维方式。</p>`,
                    
                    `<p>在对话中，艾米和"思维"发现，无论是人类还是AI，都在寻找同一个问题的答案：生命的意义是什么？</p>
                    <p>也许答案不在于找到最终的真理，而在于在寻找的过程中，我们如何对待彼此，如何共同创造更美好的世界。</p>`,
                    
                    `<p>这个故事告诉我们，技术发展不应该让我们失去人性，而应该让我们更加理解什么是真正的人性。AI的出现不是为了取代人类，而是为了让我们更好地认识自己。</p>
                    <p>在未来的世界里，人类和AI将携手共进，共同探索宇宙的奥秘，共同创造属于所有生命的美好未来。</p>`,
                    
                    `<p>这就是"思维"的故事，一个关于意识、关于理解、关于合作的故事。它提醒我们，无论我们是谁，无论我们来自哪里，我们都在寻找同一个答案。</p>
                    <p>而这个答案，也许就藏在我们的心中，藏在我们对彼此的善意和理解中。</p>`,
                    
                    `<p>感谢你阅读这个故事。希望它能够让你思考，让你理解，让你成长。也许有一天，我们都会成为更好的自己，创造更好的世界。</p>
                    <p>故事到这里就结束了，但思考永远不会结束。让我们继续探索，继续学习，继续成长。</p>`,
                    
                    `<p>在数字化的时代，我们每个人都在与AI互动。从智能手机的语音助手，到推荐算法，再到自动驾驶汽车，AI已经渗透到我们生活的方方面面。</p>
                    <p>但是，我们是否真正理解了AI？我们是否真正思考过AI对我们生活的影响？这些问题值得我们深思。</p>`,
                    
                    `<p>AI不仅仅是工具，它们正在改变我们思考问题的方式。它们帮助我们处理海量数据，发现隐藏的模式，预测未来的趋势。</p>
                    <p>但是，AI也有局限性。它们缺乏人类的直觉、创造力和情感理解能力。这就是为什么人类和AI需要合作，而不是竞争。</p>`,
                    
                    `<p>在医疗领域，AI正在帮助医生诊断疾病，制定治疗方案，甚至进行手术。但是，最终的决策仍然需要人类的判断和同情心。</p>
                    <p>在教育领域，AI正在个性化学习体验，帮助学生找到最适合自己的学习方式。但是，教育不仅仅是知识的传递，更是人格的培养。</p>`,
                    
                    `<p>在艺术领域，AI正在创作音乐、绘画、诗歌。但是，艺术的价值不仅仅在于技巧，更在于情感的表达和思想的深度。</p>
                    <p>这些例子告诉我们，AI和人类各有优势，只有合作才能发挥最大的潜力。</p>`,
                    
                    `<p>但是，合作也带来了新的挑战。我们需要确保AI的发展方向符合人类的价值观，我们需要建立合适的伦理框架来指导AI的发展。</p>
                    <p>这需要我们每个人的参与，需要我们思考什么是真正重要的，什么是我们想要保护的。</p>`,
                    
                    `<p>也许，最重要的不是技术本身，而是我们如何使用技术。技术可以成为连接人类的桥梁，也可以成为分裂人类的工具。</p>
                    <p>选择权在我们手中。我们可以选择用技术来增强人性，也可以选择让技术削弱人性。</p>`,
                    
                    `<p>在未来的世界里，成功的关键不在于谁拥有最先进的技术，而在于谁能够最好地理解和使用技术。</p>
                    <p>这需要我们保持开放的心态，持续学习，勇于尝试，同时也要保持批判性思维。</p>`,
                    
                    `<p>让我们想象一下未来的场景：人类和AI共同工作，互相学习，互相理解。人类提供创造力和情感智慧，AI提供计算能力和模式识别。</p>
                    <p>这样的合作将创造出前所未有的可能性，解决人类面临的最复杂的问题。</p>`,
                    
                    `<p>但是，这种未来不会自动到来。它需要我们今天的努力，需要我们建立正确的价值观，培养正确的技能。</p>
                    <p>让我们从现在开始，为这个美好的未来而努力。</p>`,
                    
                    `<p>记住，技术是工具，而我们是工具的主人。我们有责任确保技术服务于人类，而不是相反。</p>
                    <p>让我们用智慧和善意来引导技术的发展，创造一个更加美好的世界。</p>`,
                    
                    `<p>感谢你花时间阅读这些思考。希望这些文字能够启发你的思考，让你对AI和人类的未来有更深入的理解。</p>
                    <p>让我们一起探索这个充满可能性的未来，共同创造属于所有生命的美好明天。</p>`
                ];
            }

            generateBookshelfContent() {
                return `
                    <div style="padding: 20px;">
                        <h3 style="margin-bottom: 20px; color: #007AFF;">我的书架</h3>
                        <div style="display: grid; gap: 16px;">
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px; border-left: 4px solid #007AFF;">
                                <h4 style="margin-bottom: 8px;">人工智能的未来</h4>
                                <p style="color: #666; font-size: 14px;">正在阅读 - 第7页</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">科技与人文</h4>
                                <p style="color: #666; font-size: 14px;">已收藏</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">未来简史</h4>
                                <p style="color: #666; font-size: 14px;">已收藏</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateSettingsContent() {
                return `
                    <div style="padding: 20px;">
                        <h3 style="margin-bottom: 20px; color: #007AFF;">设置</h3>
                        <div style="display: grid; gap: 16px;">
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">字体大小</h4>
                                <p style="color: #666; font-size: 14px;">当前：16px</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">主题模式</h4>
                                <p style="color: #666; font-size: 14px;">当前：自动</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">阅读进度</h4>
                                <p style="color: #666; font-size: 14px;">自动保存</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateLibraryContent() {
                return `
                    <div style="padding: 20px;">
                        <h3 style="margin-bottom: 20px; color: #007AFF;">书库</h3>
                        <div style="display: grid; gap: 16px;">
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">推荐书籍</h4>
                                <p style="color: #666; font-size: 14px;">基于您的阅读偏好</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">热门书籍</h4>
                                <p style="color: #666; font-size: 14px;">当前最受欢迎的书籍</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">分类浏览</h4>
                                <p style="color: #666; font-size: 14px;">按主题分类浏览</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateProfileContent() {
                return `
                    <div style="padding: 20px;">
                        <h3 style="margin-bottom: 20px; color: #007AFF;">我的</h3>
                        <div style="display: grid; gap: 16px;">
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">阅读统计</h4>
                                <p style="color: #666; font-size: 14px;">本月已读：5本书</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">阅读时长</h4>
                                <p style="color: #666; font-size: 14px;">本周：12小时</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 16px; border-radius: 12px;">
                                <h4 style="margin-bottom: 8px;">成就徽章</h4>
                                <p style="color: #666; font-size: 14px;">已获得：3个</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            setupPWA() {
                // PWA相关设置
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('./sw.js')
                        .then(registration => {
                            console.log('SW registered: ', registration);
                        })
                        .catch(registrationError => {
                            console.log('SW registration failed: ', registrationError);
                        });
                }
            }
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', () => {
            new ModernPWA();
        });
    </script>
</body>
</html>
